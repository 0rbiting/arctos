<cfinclude template="/includes/_header.cfm">
<cfset mb_token="pk.eyJ1IjoiYXJjdG9zIiwiYSI6ImNqdndnM2NrYjAwYXM0OHJnMDUyZnVvY3UifQ._Jg9O0eUm_HwS4o_Zb9Zeg">

 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
 <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>


<script src='https://cdnjs.cloudflare.com/ajax/libs/wicket/1.3.2/wicket.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/wicket/1.3.2/wicket-leaflet.js'></script>


<style>
#map { height: 180px; }
</style>


<cfoutput>
<script>
var poly='POLYGON((-98.27815 40.50052,-98.27809 40.48493,-98.27805 40.46356,-98.27802 40.44792,-98.27802 40.43419,-98.27803 40.41771,-98.2779 40.40614,-98.27802 40.40071,-98.27807 40.37835,-98.27813 40.36884,-98.27814 40.36386,-98.27811 40.35085,-98.27809 40.35035,-98.27814 40.35035,-98.29228 40.35035,-98.29713 40.35045,-98.30619 40.35035,-98.32255 40.35035,-98.33097 40.35029,-98.33919 40.35031,-98.36221 40.35027,-98.38608 40.3503,-98.40589 40.35028,-98.42724 40.35032,-98.44907 40.35035,-98.4647 40.35041,-98.4814 40.35046,-98.49139 40.35042,-98.50766 40.35038,-98.52237 40.35035,-98.55338 40.35038,-98.57017 40.35035,-98.5948 40.35032,-98.61466 40.35034,-98.62918 40.35026,-98.6568 40.3503,-98.6765 40.35031,-98.69009 40.35034,-98.72056 40.35038,-98.72378 40.35039,-98.72382 40.35113,-98.72403 40.35865,-98.72405 40.3694,-98.72407 40.38273,-98.72408 40.39382,-98.72409 40.39877,-98.72409 40.40056,-98.72409 40.40906,-98.72404 40.41666,-98.72407 40.46009,-98.72412 40.48796,-98.72401 40.4999,-98.72398 40.50547,-98.72402 40.5173,-98.72402 40.53135,-98.72404 40.54507,-98.72408 40.56417,-98.7241 40.58224,-98.72416 40.59249,-98.72421 40.61789,-98.72424 40.63264,-98.72425 40.63989,-98.72427 40.64732,-98.72429 40.66465,-98.72436 40.67985,-98.72439 40.68957,-98.72439 40.68977,-98.72439 40.69191,-98.72439 40.69247,-98.72441 40.69497,-98.72441 40.69609,-98.72441 40.69691,-98.72441 40.69701,-98.72441 40.69708,-98.7244 40.69788,-98.72441 40.69844,-98.72441 40.69868,-98.72441 40.69884,-98.72441 40.69889,-98.72432 40.69889,-98.72415 40.69889,-98.72309 40.6989,-98.72307 40.6989,-98.72301 40.6989,-98.72143 40.6989,-98.7197 40.6989,-98.69847 40.6988,-98.68197 40.69874,-98.65554 40.69881,-98.6428 40.6988,-98.62615 40.69888,-98.62033 40.6988,-98.61108 40.69875,-98.5978 40.69875,-98.57764 40.69871,-98.55394 40.69867,-98.53863 40.69866,-98.53482 40.69864,-98.49675 40.69859,-98.47876 40.69856,-98.45443 40.69852,-98.43071 40.69847,-98.41472 40.69844,-98.39849 40.69842,-98.37371 40.69839,-98.36826 40.69838,-98.34593 40.69837,-98.34132 40.69834,-98.33109 40.69834,-98.3199 40.69832,-98.2857 40.6983,-98.28285 40.69828,-98.28282 40.69828,-98.28059 40.69828,-98.27907 40.69829,-98.2781 40.69829,-98.27811 40.69765,-98.27815 40.68292,-98.27816 40.67428,-98.2782 40.66083,-98.27823 40.64673,-98.27826 40.63366,-98.27829 40.61754,-98.27829 40.59411,-98.2782 40.57917,-98.27828 40.57177,-98.27831 40.5636,-98.2783 40.5447,-98.27824 40.52609,-98.27819 40.51683))';
	jQuery(document).ready(function() {
		var map = L.map('map').setView([51.505, -0.09], 13);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

L.marker([51.5, -0.09]).addTo(map)
    .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
    .openPopup();



var wkt = new Wkt.Wkt();

var polygon = wkt.read(poly).toObject();

window.console.log("Leaflet polygon: " + polygon);

polygon.addTo(map);

wkt = new Wkt.Wkt();
wkt.fromObject(polygon);
window.console.log("Wkt from Polygon: " + wkt.write());






		});
</script>

 <div id="map"></div>

</cfoutput>